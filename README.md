# `                                        **ПРОЕКТ**

**IT-отдел крупного банка делает новую фичу для личного кабинета клиента. Это виджет, который показывает несколько  
последних успешных банковских операций клиента. Этот проект, который на бэкенде будет готовить данные для отображения в новом виджете.**

##                                       ***ЗАДАНИЕ ПЕРВОЕ***

1. Организация проекта — создание основных пакетов: **\src** — для исходного кода, **\tests** — для тестов.
2. Установка инструментов для проверки качества кода ***(Flake8, black, isort, mypy)***.
3. Настройка файл *.flake8* для конфигурации линтера *Flake8*.
4. Добавление конфигурации для *black*, *isort* и *mypy* в файл **pyproject.toml**. 
5. В пакете **src** создан модуль с названием **masks**. Здесь реализовано две функции:  
    - Функция маскировки номера банковской карты **get_mask_card_number**.
    - Функция маскировки номера банковского счета **get_mask_account**.

###                                  ***Как работают функции***

- Функция **get_mask_card_number** принимает на вход номер карты и возвращает ее маску. Номер карты замаскирован
  и отображается в формате XXXX XX** **** XXXX, где X — это цифра номера. То есть видны первые 6 цифр и последние 4 цифры,
   остальные символы отображаются звездочками, номер разбит по блокам по 4 цифры, разделенным пробелами. Пример работы функции:
  7000792289606361     # входной аргумент 7000 79** **** 6361  # выход функции.

-  Функция **get_mask_account** принимает на вход номер счета и возвращает его маску. Номер счета замаскирован и отображается в формате 
   **XXXX, где X — это цифра номера. То есть видны только последние 4 цифры номера, а перед ними — две звездочки. Пример работы функции:
   73654108430135874305  # входной аргумент **4305  # выход функции.

##                                       ***ЗАДАНИЕ ВТОРОЕ*** 

1. Инициализация нового локального Git-репозитория в папке проекта.
2. Создание файл .gitignore в корне проекта и добавьте в него стандартные шаблоны для Python, чтобы исключить системные и временные файлы, такие как 
    __pycache__, .idea и другие.
3. В пакете **\src** создан новый модуль с именем **widget**. Этот модуль будет содержать функции для работы с новыми возможностями приложения.
4. В модуле **widget** создана функция **mask_account_card**, которая умеет обрабатывать информацию как о картах, так и о счетах.
   Функция должна:
   - принимать один аргумент — строку, содержащую тип и номер карты или счета.
   - Возвращать строку с замаскированным номером. Для карт и счетов используйте разные типы маскировки.
     Переиспользована уже существующие функции маскировки из проекта, чтобы избежать дублирования кода.
5. В том же модуле создана функция **get_date**, которая принимает на вход строку с датой в формате 
   "2024-03-11T02:26:18.671407" и возвращает строку с датой в формате "ДД.ММ.ГГГГ" ("11.03.2024").

 ##                                      ***ЗАДАНИЕ ТРЕТЬЕ*** 

 1. В директории **\src** проекта создан модуль **processing**, который будет содержать новые функции обработки данных.
 2. В модуле **processing** реализована функция **filter_by_state**, которая принимает список словарей и опционально значение для ключа 
     **state** (по умолчанию 'EXECUTED'). Функция возвращает новый список словарей, содержащий только те словари, у которых ключ 
      state соответствует указанному значению.
 3. В том же модуле реализована функция **sort_by_date**, которая принимает список словарей и необязательный параметр, задающий порядок сортировки
    (по умолчанию — убывание). Функция должна возвращать новый список, отсортированный по дате (date).   
  
 ###                                      ***ИНСТРУКЦИЯ ПО УСТАНОВКЕ И КОНФИГУРАЦИИ***
1. Созданы новые ветки в локальном репозитории для работы по GitFlow. Ветка разработки имеет имя **develop**, ветки
    разработки конкретного задания с префиксом **feature**. Для домашней работы урока 10.1 имя будет **feature/homework_10_1**.
2. Создан пустой репозиторий на GitHub, имя проекта **pythonProject4**. Ветка разработки **feature/homework_10_1** и **develop** 
   отправлена в GitHub.

##                                        ***ЗАДАНИЕ ЧЕТВЕРТОЕ - тестирование***
1. Созданы новые ветки в локальном репозитории для работы по GitFlow. Ветка разработки имеет имя **develop**, ветки
    разработки конкретного задания с префиксом **feature**. Для домашней работы урока 10.1 имя будет **feature/homework_10_2_test**.
2. В созданную папку **\tests**  три тест-кейса **(test_masks.py, test_widget.py, test_processing.py)** для тестирования модулей: **masks**,
   **widget**, **processing**.
   - в **test_masks.py** созданы условия для тестирования:
         функции **mask_account_card**:
            Тесты для проверки, что функция корректно распознает и применяет нужный тип маскировки в зависимости от типа входных данных (карта или счет).
            Параметризованные тесты с разными типами карт и счетов для проверки универсальности функции.
            Тестирование функции на обработку некорректных входных данных и проверка ее устойчивости к ошибкам.
         функции **get_data**:
            Тестирование правильности преобразования даты.
            Проверка работы функции на различных входных форматах даты, включая граничные случаи и нестандартные строки с датами.
            Проверка, что функция корректно обрабатывает входные строки, где отсутствует дата.
   - в **test_processing.py** созданы условия для тестирования:
         функции **filter_by_state**:
            Тестирование фильтрации списка словарей по заданному статусу state.
            Проверка работы функции при отсутствии словарей с указанным статусом state в списке.
            Параметризация тестов для различных возможных значений статуса state.
         функции **sort_by_date**:
            Тестирование сортировки списка словарей по датам в порядке убывания и возрастания.
            Проверка корректности сортировки при одинаковых датах.
            Тесты на работу функции с некорректными или нестандартными форматами дат.
   - в **test_widget.py**:
         функции **mask_account_card**:
            Тесты для проверки, что функция корректно распознает и применяет нужный тип маскировки в зависимости от типа
            входных данных (карта или счет).
            Параметризованные тесты с разными типами карт и счетов для проверки универсальности функции.
            Тестирование функции на обработку некорректных входных данных и проверка ее устойчивости к ошибкам.
         функции **get_data**:
            Тестирование правильности преобразования даты.
            Проверка работы функции на различных входных форматах даты, включая граничные случаи и нестандартные строки с датами.
            Проверка, что функция корректно обрабатывает входные строки, где отсутствует дата.
  3. Для проверки функциональности кода созданы условия для проверки покрытия с помощью **Code coverage**.
     Отчет сгенерирован в папке **htmlcov** и храниться в файле с названием **index.html**. 
   
